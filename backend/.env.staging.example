# Staging Environment Configuration Template
# Copy this file to .env.staging and update with actual staging values

# ============================================================
# APPLICATION SETTINGS
# ============================================================
ENVIRONMENT=staging
DEBUG=true
SECRET_KEY=staging-secret-key-change-this
API_V1_PREFIX=/api/v1

# ============================================================
# DATABASE CONFIGURATION
# ============================================================
# Staging PostgreSQL connection
DATABASE_URL=postgresql://audiobooker_staging:password@staging-db-host:5432/audiobooker_staging

# Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================
# CLOUDFLARE R2 STORAGE
# ============================================================
R2_ACCOUNT_ID=1049d9c736f1ba301b3a8c76ede09455
R2_ACCESS_KEY_ID=1d6d82ee3822ae2490bcb0b0b4759470
R2_SECRET_ACCESS_KEY=e491a96a668dea6fb464f6e68b7549e7b01e06d659cf30350aa95403b3183ec4
R2_BUCKET_NAME=audiobooker-staging
R2_ENDPOINT_URL=https://1049d9c736f1ba301b3a8c76ede09455.r2.cloudflarestorage.com

# ============================================================
# CORS SETTINGS
# ============================================================
# Staging frontend URLs
CORS_ORIGINS=https://staging.yourdomain.com,http://localhost:5173,http://localhost:5175

# ============================================================
# FILE UPLOAD SETTINGS
# ============================================================
MAX_UPLOAD_SIZE=52428800  # 50MB
ALLOWED_EXTENSIONS=.pdf
UPLOAD_TIMEOUT=300

# ============================================================
# TEXT-TO-SPEECH CONFIGURATION
# ============================================================
TTS_PROVIDER=openai
TTS_API_KEY=your_staging_openai_api_key
TTS_MODEL=tts-1
TTS_VOICE=alloy
TTS_SPEED=1.0

# ============================================================
# REDIS (for task queue and caching)
# ============================================================
REDIS_URL=redis://staging-redis:6379/0
REDIS_MAX_CONNECTIONS=20

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=DEBUG
LOG_FORMAT=text
LOG_FILE=/var/log/audiobooker/staging.log

# ============================================================
# SECURITY
# ============================================================
FORCE_HTTPS=false  # Can be false in staging
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=120

# ============================================================
# MONITORING
# ============================================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=staging

# ============================================================
# PERFORMANCE
# ============================================================
WORKERS=2
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_TIMEOUT=120

# ============================================================
# FEATURE FLAGS
# ============================================================
ENABLE_SWAGGER_DOCS=true  # Enable in staging for testing
ENABLE_METRICS=true
ENABLE_HEALTH_CHECK=true
